<div class="screen-container" [ngStyle]="screenContainerDynamicStyling">
  <div
    class="background-container"
    [ngStyle]="backgroundContainerDynamicStyling"
  ></div>
  <div
    *ngIf="impactHeader"
    class="impact-header-container"
    [ngStyle]="headerContainerDynamicStyling"
  >
    <div *ngFor="let line of impactHeader.lines">
      <span *ngFor="let block of line">
        <span *ngIf="block.content.length === 1">{{block.content[0]}}</span>
        <span *ngIf="block.content.length > 1">
          <span @fadeIn *ngIf="this.elementSwitch"
            >{{block.content[impactHeaderPhaseCounter]}}</span
          >
          <span @fadeIn *ngIf="!this.elementSwitch"
            >{{block.content[impactHeaderPhaseCounter]}}</span
          >
        </span>
      </span>
    </div>
  </div>

  <div
    *ngIf="callToActionButton"
    class="call-to-action-button-container"
    [ngStyle]="calltoActionContainerDynamicStyling"
  >
    <sigmafox-standard-button
      *ngIf="callToActionButton"
      [buttonSize]="callToActionButton.buttonSize"
      [text]="callToActionButton.text"
      [buttonStyleClass]="callToActionButton.buttonStyleClass"
      (clicked)="onCallToActionButtonClick()"
    ></sigmafox-standard-button>
  </div>
  <div *ngIf="navigationPanel" class="navigation-panel-container">
    <button
      *ngIf="navigationPanel.nextScreen"
      class="navigation-button"
      [ngStyle]="navigationButtonsDynamicStyling"
      (click)="scrollToNextScreen()"
    >
      <mat-icon>keyboard_arrow_down</mat-icon>
    </button>
  </div>

  <div *ngIf="this.elementSwitch">
    <ng-container *ngTemplateOutlet="struturedPage"></ng-container>
  </div>
  <div *ngIf="!this.elementSwitch">
    <ng-container *ngTemplateOutlet="struturedPage"></ng-container>
  </div>
</div>

<ng-template #struturedPage>
  <div *ngIf="structuredPages.screens" class="structured-page-container">
    <div class="text-container">
      <div class="header-container">
        {{structuredPages.screens[structuredPageSeriesPhaseCounter].heading}}
      </div>
      <div
        *ngIf="structuredPages.screens[structuredPageSeriesPhaseCounter].subHeading"
        class="subheader-container"
      >
        {{structuredPages.screens[structuredPageSeriesPhaseCounter].subHeading}}
      </div>
    </div>
    <img
      class="bottom-img"
      *ngIf="structuredPages.imagesLocationPath && structuredPages.screens[structuredPageSeriesPhaseCounter].imageBottom"
      src="{{structuredPages.imagesLocationPath}}{{structuredPages.screens[structuredPageSeriesPhaseCounter].imageBottom}}"
      alt=""
    />
  </div>
</ng-template>
